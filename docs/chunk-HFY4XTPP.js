import{a as pt}from"./chunk-5CXXHGDM.js";import{a as F,c as M,f as L}from"./chunk-THGDIQ4B.js";import{a as E,e as et,f as ot,g as nt,h as it,i as at,j as rt,k as mt,l as lt,m as ct,n as st,o as dt,p as y,q as ut}from"./chunk-HDULGR7O.js";import{R as J,U as S,W as g,X as K,Y as Q,a as A,aa as X,ba as Y,ca as Z,da as tt,l as H,n as $,p as j,q as B,s as V,t as G,u as z,v as U,w as q}from"./chunk-PTQIEK6I.js";import{Db as i,Fb as x,Hb as v,Ib as k,Jb as N,Pa as m,_ as b,ba as T,bc as O,ca as I,fb as p,hb as s,ia as P,lb as R,mb as o,nb as n,ob as u,pb as _,qb as h,sb as W,ta as c,ub as C,vb as D}from"./chunk-NTYRYQ7B.js";var w=(()=>{let e=class e{constructor(){this.httpClient=c(A),this.API=`${ut.API}/warehouseman/solicitations`}list(a={}){return this.httpClient.get(this.API,{params:a})}single(a){return this.httpClient.get(`${this.API}/${a}`)}approve(a,r){return this.httpClient.patch(`${this.API}/${a}/approve`,{observation:r})}reprove(a,r){return this.httpClient.patch(`${this.API}/${a}/reprove`,{observation:r})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ct(t,e){t&1&&(o(0,"th",13),i(1," C\xF3digo"),n())}function bt(t,e){if(t&1&&(o(0,"td",14),i(1),n()),t&2){let l=e.$implicit;m(),x(" ",l.id,"")}}function xt(t,e){t&1&&(o(0,"th",13),i(1," Nome"),n())}function vt(t,e){if(t&1&&(o(0,"td",14),i(1),n()),t&2){let l=e.$implicit;m(),x(" ",l.name,"")}}function Mt(t,e){t&1&&(o(0,"th",13),i(1," Descri\xE7\xE3o"),n())}function St(t,e){if(t&1&&(o(0,"td",14),i(1),n()),t&2){let l=e.$implicit;m(),x(" ",l.description,"")}}function gt(t,e){t&1&&u(0,"th",15)}function Et(t,e){if(t&1){let l=W();o(0,"td",16)(1,"button",17),C("click",function(){let d=T(l).$implicit,f=D(2);return I(f.navigateToSingle(d))}),o(2,"mat-icon"),i(3,"edit"),n()()()}}function yt(t,e){t&1&&u(0,"tr",18)}function wt(t,e){t&1&&u(0,"tr",19)}function Dt(t,e){if(t&1&&(o(0,"mat-table",2),_(1,3),p(2,Ct,2,0,"th",4)(3,bt,2,1,"td",5),h(),_(4,6),p(5,xt,2,0,"th",4)(6,vt,2,1,"td",5),h(),_(7,7),p(8,Mt,2,0,"th",4)(9,St,2,1,"td",5),h(),_(10,8),p(11,gt,1,0,"th",9)(12,Et,4,0,"td",10),h(),p(13,yt,1,0,"tr",11)(14,wt,1,0,"tr",12),n()),t&2){let l=D();s("dataSource",l.solicitations),m(13),s("matHeaderRowDef",l.displayedColumns),m(),s("matRowDefColumns",l.displayedColumns)}}function Tt(t,e){t&1&&(o(0,"h2",20),i(1,"Nenhuma informa\xE7\xE3o encontrada."),n())}var _t=(()=>{let e=class e{constructor(){this.displayedColumns=["id","name","description","actions"],this.solicitationsService=c(w),this.router=c(M),this.solicitations=this.solicitationsService.list()}navigateToSingle(a){this.router.navigate([`/warehouseman/${a.id}`])}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=b({type:e,selectors:[["app-warehouseman"]],standalone:!0,features:[v],decls:8,vars:3,consts:[["color","primary"],["class","mat-elevation-z8",3,"dataSource"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","actions"],["mat-header-cell","","class","action-column",4,"matHeaderCellDef"],["mat-cell","","class","action-column",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"action-column"],["mat-cell","",1,"action-column"],["mat-icon-button","","color","primary","aria-label","Editar Curso",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"]],template:function(r,d){if(r&1&&(o(0,"mat-toolbar",0)(1,"span"),i(2,"Almoxarife - Solicita\xE7\xF5es"),n()(),o(3,"mat-card")(4,"mat-card-content"),p(5,Dt,15,3,"mat-table",1),k(6,"async"),p(7,Tt,2,0),n()()),r&2){let f;m(5),R(5,(f=N(6,1,d.solicitations))!=null&&f.length?5:7)}},dependencies:[E,et,at,rt,y,ct,lt,st,S,it,dt,nt,mt,ot,K,g,O,tt],styles:[".mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.action-column[_ngcontent-%COMP%]{flex:0 0 125px}.mat-card-actions[_ngcontent-%COMP%]{justify-content:center}td[_ngcontent-%COMP%]{width:400px}.solicitation-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;margin-bottom:1rem}"]});let t=e;return t})();var ht=(()=>{let e=class e{constructor(){this.formBuilder=c(U),this.router=c(M),this.route=c(F),this.service=c(w),this.form=this.formBuilder.nonNullable.group({name:[""],description:[""],price:[null],action:[null,[$.required]],observation:[null]})}onSubmit(){if(this.form.valid){let a=this.form.controls.action.value,r=this.form.controls.observation.value;a===1?this.service.approve(this.id,r).subscribe():this.service.reprove(this.id,r).subscribe()}}back(){this.router.navigate(["/warehouseman"])}ngOnInit(){this.id=this.route.snapshot.params.id,this.service.single(this.id).subscribe(a=>{this.form.patchValue(a),this.form.disable(),this.form.controls.action.enable(),this.form.controls.observation.enable()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=b({type:e,selectors:[["app-warehouseman-update"]],standalone:!0,features:[v],decls:34,vars:5,consts:[["color","primary"],[1,"create__form__mat__card__content"],[1,"create__form__back__button"],["mat-raised-button","","color","primary","aria-label","Solicitar um produto",1,"action-column-header",3,"click"],[1,"create__form",3,"formGroup","ngSubmit"],["matInput","","placeholder","Nome do Solicitante","id","nomeSolicitante","formControlName","name"],["matInput","","placeholder","Adicione a descri\xE7\xE3o do item","id","descricaoItem","rows","3","type","text","formControlName","description"],["appearance","fill"],["type","text","prefix","R$ ","mask","00,00","formControlName","price","matInput","",3,"dropSpecialCharacters"],["formControlName","action"],[3,"value"],["matInput","","placeholder","Adicione a observa\xE7\xE3o","rows","3","type","text","formControlName","observation"],[1,"create__form__container__submit__button"],["mat-raised-button","","type","submit",1,"create__form__submit__button",3,"disabled"]],template:function(r,d){r&1&&(o(0,"mat-toolbar",0)(1,"span"),i(2,"Moderar solicita\xE7\xE3o"),n()(),o(3,"mat-card")(4,"mat-card-content",1)(5,"div",2)(6,"button",3),C("click",function(){return d.back()}),o(7,"span"),i(8,"Voltar"),n(),o(9,"mat-icon"),i(10,"arrow_left"),n()()(),o(11,"form",4),C("ngSubmit",function(){return d.onSubmit()}),o(12,"mat-form-field"),u(13,"input",5),n(),o(14,"mat-form-field")(15,"textarea",6),i(16,`
        `),n()(),o(17,"mat-form-field",7),i(18," Pre\xE7o do produto "),u(19,"input",8),n(),o(20,"mat-form-field")(21,"mat-label"),i(22,"Escolha uma a\xE7\xE3o"),n(),o(23,"mat-select",9)(24,"mat-option",10),i(25,"Aprovar"),n(),o(26,"mat-option",10),i(27,"Reprovar"),n()()(),o(28,"mat-form-field")(29,"textarea",11),i(30,"        "),n()(),o(31,"div",12)(32,"button",13),i(33,"Executar a\xE7\xE3o "),n()()()()()),r&2&&(m(11),s("formGroup",d.form),m(8),s("dropSpecialCharacters",!1),m(5),s("value",1),m(2),s("value",2),m(6),s("disabled",d.form.invalid))},dependencies:[S,g,y,E,X,q,V,H,j,B,G,z,Y,L,Z,pt,J,Q],styles:[".create__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;background:#fff0f5}.create__form__container__submit__button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.create__form__submit__button[_ngcontent-%COMP%]{width:20%}.create__form__mat__card__content[_ngcontent-%COMP%]{background:#fff0f5;padding:2rem;height:100%}.create__form__back__button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;margin-bottom:.5rem}.action-column[_ngcontent-%COMP%]{flex:0 0 125px}mat-card[_ngcontent-%COMP%]{height:93%;box-sizing:border-box}"]});let t=e;return t})();var fe=[{path:"",component:_t},{path:":id",component:ht}];export{fe as default};
