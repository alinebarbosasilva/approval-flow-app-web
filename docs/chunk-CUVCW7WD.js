import{a as ft}from"./chunk-DZP6IUIA.js";import{b as J}from"./chunk-FI7CWAPY.js";import{a as y,e as nt,f as it,g as at,h as rt,i as mt,j as lt,k as ct,l as st,m as dt,n as pt,o as ut,p as w}from"./chunk-5WCHYK4E.js";import{$ as X,U as K,X as S,Z as g,_ as Q,a as F,da as Y,ea as Z,fa as E,ga as tt,ha as et,ia as ot,j as H,l as M,o as $,q as j,s as B,t as V,v as G,w as z,x as U,y as L,z as q}from"./chunk-KPDGMDFH.js";import{Db as i,Fb as v,Hb as x,Ib as O,Jb as N,Pa as m,_ as b,ba as I,bc as A,ca as P,fb as p,hb as s,ia as R,lb as W,mb as o,nb as n,ob as f,pb as h,qb as C,sb as k,ta as c,ub as _,vb as T}from"./chunk-NTYRYQ7B.js";var D=(()=>{let e=class e{constructor(){this.httpClient=c(F),this.API=`${et.API}/warehouseman/solicitations`}list(a={}){return this.httpClient.get(this.API,{params:a})}single(a){return this.httpClient.get(`${this.API}/${a}`)}approve(a,r){return this.httpClient.patch(`${this.API}/${a}/approve`,{observation:r})}reprove(a,r){return this.httpClient.patch(`${this.API}/${a}/reprove`,{observation:r})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bt(t,e){t&1&&(o(0,"th",14),i(1," C\xF3digo"),n())}function vt(t,e){if(t&1&&(o(0,"td",15),i(1),n()),t&2){let l=e.$implicit;m(),v(" ",l.id,"")}}function xt(t,e){t&1&&(o(0,"th",14),i(1," Nome"),n())}function Mt(t,e){if(t&1&&(o(0,"td",15),i(1),n()),t&2){let l=e.$implicit;m(),v(" ",l.name,"")}}function St(t,e){t&1&&(o(0,"th",14),i(1," Descri\xE7\xE3o"),n())}function gt(t,e){if(t&1&&(o(0,"td",15),i(1),n()),t&2){let l=e.$implicit;m(),v(" ",l.description,"")}}function Et(t,e){t&1&&f(0,"th",16)}function yt(t,e){if(t&1){let l=k();o(0,"td",17)(1,"button",18),_("click",function(){let d=I(l).$implicit,u=T(2);return P(u.navigateToSingle(d))}),o(2,"mat-icon"),i(3,"edit"),n()()()}}function wt(t,e){t&1&&f(0,"tr",19)}function Dt(t,e){t&1&&f(0,"tr",20)}function Tt(t,e){if(t&1&&(o(0,"mat-table",3),h(1,4),p(2,bt,2,0,"th",5)(3,vt,2,1,"td",6),C(),h(4,7),p(5,xt,2,0,"th",5)(6,Mt,2,1,"td",6),C(),h(7,8),p(8,St,2,0,"th",5)(9,gt,2,1,"td",6),C(),h(10,9),p(11,Et,1,0,"th",10)(12,yt,4,0,"td",11),C(),p(13,wt,1,0,"tr",12)(14,Dt,1,0,"tr",13),n()),t&2){let l=T();s("dataSource",l.solicitations),m(13),s("matHeaderRowDef",l.displayedColumns),m(),s("matRowDefColumns",l.displayedColumns)}}function It(t,e){t&1&&(o(0,"h2",21),i(1,"Nenhuma informa\xE7\xE3o encontrada."),n())}var ht=(()=>{let e=class e{constructor(){this.loginService=c(ot),this.router=c(M),this.solicitationsService=c(D),this.displayedColumns=["id","name","description","actions"],this.solicitations=this.solicitationsService.list()}navigateToSingle(a){this.router.navigate([`/warehouseman/${a.id}`])}logout(){this.loginService.logout().subscribe(()=>{this.router.navigate(["/login"])})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=b({type:e,selectors:[["app-warehouseman"]],standalone:!0,features:[x],decls:13,vars:3,consts:[["color","primary"],["mat-raised-button","","color","primary","aria-label","Sair",1,"action-column-header",3,"click"],["class","mat-elevation-z8",3,"dataSource"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","actions"],["mat-header-cell","","class","action-column",4,"matHeaderCellDef"],["mat-cell","","class","action-column",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"action-column"],["mat-cell","",1,"action-column"],["mat-icon-button","","color","primary","aria-label","Editar Curso",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"]],template:function(r,d){if(r&1&&(o(0,"mat-toolbar",0)(1,"span"),i(2,"Almoxarife - Solicita\xE7\xF5es"),n(),o(3,"button",1),_("click",function(){return d.logout()}),o(4,"span"),i(5,"Sair"),n(),o(6,"mat-icon"),i(7,"logout"),n()()(),o(8,"mat-card")(9,"mat-card-content"),p(10,Tt,15,3,"mat-table",2),O(11,"async"),p(12,It,2,0),n()()),r&2){let u;m(10),W(10,(u=N(11,1,d.solicitations))!=null&&u.length?10:12)}},dependencies:[y,nt,mt,lt,w,dt,st,pt,S,rt,ut,at,ct,it,Q,g,A,E,tt],styles:[".mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.action-column[_ngcontent-%COMP%]{flex:0 0 125px}.mat-card-actions[_ngcontent-%COMP%]{justify-content:center}td[_ngcontent-%COMP%]{width:630px}th[_ngcontent-%COMP%]{padding:1rem}.solicitation-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;margin-bottom:1rem}"]});let t=e;return t})();var Ct=(()=>{let e=class e{constructor(){this.formBuilder=c(L),this.router=c(M),this.route=c(H),this.service=c(D),this.form=this.formBuilder.nonNullable.group({name:[""],description:[""],price:[null],action:[null,[j.required]],observation:[null]})}onSubmit(){if(this.form.valid){let a=this.form.controls.action.value,r=this.form.controls.observation.value;a===1?this.service.approve(this.id,r).subscribe():this.service.reprove(this.id,r).subscribe()}}back(){this.router.navigate(["/warehouseman"])}ngOnInit(){this.id=this.route.snapshot.params.id,this.service.single(this.id).subscribe(a=>{this.form.patchValue(a),this.form.disable(),this.form.controls.action.enable(),this.form.controls.observation.enable()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=b({type:e,selectors:[["app-warehouseman-update"]],standalone:!0,features:[x],decls:34,vars:5,consts:[["color","primary"],[1,"create__form__mat__card__content"],[1,"create__form__back__button"],["mat-raised-button","","color","primary","aria-label","Solicitar um produto",1,"action-column-header",3,"click"],[1,"create__form",3,"formGroup","ngSubmit"],["matInput","","placeholder","Nome do Solicitante","id","nomeSolicitante","formControlName","name"],["matInput","","placeholder","Adicione a descri\xE7\xE3o do item","id","descricaoItem","rows","3","type","text","formControlName","description"],["appearance","fill"],["type","text","prefix","R$ ","mask","00,00","formControlName","price","matInput","",3,"dropSpecialCharacters"],["formControlName","action"],[3,"value"],["matInput","","placeholder","Adicione a observa\xE7\xE3o","rows","3","type","text","formControlName","observation"],[1,"create__form__container__submit__button"],["mat-raised-button","","type","submit",1,"create__form__submit__button",3,"disabled"]],template:function(r,d){r&1&&(o(0,"mat-toolbar",0)(1,"span"),i(2,"Moderar solicita\xE7\xE3o"),n()(),o(3,"mat-card")(4,"mat-card-content",1)(5,"div",2)(6,"button",3),_("click",function(){return d.back()}),o(7,"span"),i(8,"Voltar"),n(),o(9,"mat-icon"),i(10,"arrow_left"),n()()(),o(11,"form",4),_("ngSubmit",function(){return d.onSubmit()}),o(12,"mat-form-field"),f(13,"input",5),n(),o(14,"mat-form-field")(15,"textarea",6),i(16,`
        `),n()(),o(17,"mat-form-field",7),i(18," Pre\xE7o do produto "),f(19,"input",8),n(),o(20,"mat-form-field")(21,"mat-label"),i(22,"Escolha uma a\xE7\xE3o"),n(),o(23,"mat-select",9)(24,"mat-option",10),i(25,"Aprovar"),n(),o(26,"mat-option",10),i(27,"Reprovar"),n()()(),o(28,"mat-form-field")(29,"textarea",11),i(30,"        "),n()(),o(31,"div",12)(32,"button",13),i(33,"Executar a\xE7\xE3o "),n()()()()()),r&2&&(m(11),s("formGroup",d.form),m(8),s("dropSpecialCharacters",!1),m(5),s("value",1),m(2),s("value",2),m(6),s("disabled",d.form.invalid))},dependencies:[S,g,w,y,Y,q,G,$,B,V,z,U,Z,J,E,ft,K,X],styles:[".create__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;background:#fff0f5}.create__form__container__submit__button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.create__form__submit__button[_ngcontent-%COMP%]{padding:1rem 3rem;width:15%}.create__form__mat__card__content[_ngcontent-%COMP%]{background:#fff0f5;height:100%}.create__form__back__button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;margin-bottom:.5rem}.action-column[_ngcontent-%COMP%]{flex:0 0 125px}mat-card[_ngcontent-%COMP%]{height:93%;box-sizing:border-box}"]});let t=e;return t})();var _e=[{path:"",component:ht},{path:":id",component:Ct}];export{_e as default};
