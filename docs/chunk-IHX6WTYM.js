import{b as L}from"./chunk-FI7CWAPY.js";import{a as D,e as X,f as Y,g as Z,h as tt,i as et,j as it,k as ot,l as nt,m as at,n as rt,o as mt,p as R}from"./chunk-5WCHYK4E.js";import{X as y,Z as E,_ as J,a as A,da as K,ea as Q,fa as w,ha as U,ia as W,j as C,l as g,o as H,q as v,s as j,t as B,v as $,w as V,x as G,y as q,z}from"./chunk-KPDGMDFH.js";import{Db as n,Fb as M,Hb as x,Ib as F,Jb as N,Pa as m,_ as S,bc as O,fb as s,hb as d,ia as P,lb as k,mb as i,nb as o,ob as f,pb as h,qb as b,ta as a,ub as _,vb as I}from"./chunk-NTYRYQ7B.js";var T=(()=>{let e=class e{constructor(){this.httpClient=a(A),this.route=a(C),this.API=`${U.API}/solicitations`}list(){return this.httpClient.get(this.API)}create(p){return this.httpClient.post(`${this.API}`,p)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function st(t,e){t&1&&(i(0,"th",13),n(1," C\xF3digo"),o())}function pt(t,e){if(t&1&&(i(0,"td",14),n(1),o()),t&2){let l=e.$implicit;m(),M(" ",l.id,"")}}function ut(t,e){t&1&&(i(0,"th",13),n(1," Nome"),o())}function ft(t,e){if(t&1&&(i(0,"td",14),n(1),o()),t&2){let l=e.$implicit;m(),M(" ",l.name,"")}}function _t(t,e){t&1&&(i(0,"th",13),n(1," Descri\xE7\xE3o"),o())}function Ct(t,e){if(t&1&&(i(0,"td",14),n(1),o()),t&2){let l=e.$implicit;m(),M(" ",l.description,"")}}function St(t,e){t&1&&f(0,"tr",15)}function ht(t,e){t&1&&f(0,"tr",16)}function bt(t,e){if(t&1&&(i(0,"mat-table",5),h(1,6),s(2,st,2,0,"th",7)(3,pt,2,1,"td",8),b(),h(4,9),s(5,ut,2,0,"th",7)(6,ft,2,1,"td",8),b(),h(7,10),s(8,_t,2,0,"th",7)(9,Ct,2,1,"td",8),b(),s(10,St,1,0,"tr",11)(11,ht,1,0,"tr",12),o()),t&2){let l=I();d("dataSource",l.solicitations),m(10),d("matHeaderRowDef",l.displayedColumns),m(),d("matRowDefColumns",l.displayedColumns)}}function Mt(t,e){t&1&&(i(0,"h2",17),n(1,"Nenhuma informa\xE7\xE3o encontrada."),o())}var ct=(()=>{let e=class e{constructor(){this.solicitationsService=a(T),this.router=a(g),this.route=a(C),this.loginService=a(W),this.displayedColumns=["id","name","description"],this.solicitations=this.solicitationsService.list()}onAdd(){this.router.navigate(["new"],{relativeTo:this.route})}logout(){this.loginService.logout().subscribe(()=>{this.router.navigate(["/login"])})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=S({type:e,selectors:[["app-solicitations"]],standalone:!0,features:[x],decls:19,vars:3,consts:[["color","primary"],["mat-raised-button","","color","primary","aria-label","Sair",1,"action-column-header",3,"click"],[1,"solicitation-button"],["mat-raised-button","","color","primary","aria-label","Solicitar um produto",1,"action-column-header",3,"click"],["class","mat-elevation-z8",3,"dataSource"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"not-found"]],template:function(r,c){if(r&1&&(i(0,"mat-toolbar",0)(1,"span"),n(2,"Solicita\xE7\xF5es"),o(),i(3,"button",1),_("click",function(){return c.logout()}),i(4,"span"),n(5,"Sair"),o(),i(6,"mat-icon"),n(7,"logout"),o()()(),i(8,"mat-card")(9,"mat-card-content")(10,"div",2)(11,"button",3),_("click",function(){return c.onAdd()}),i(12,"span"),n(13,"Solicitar um produto"),o(),i(14,"mat-icon"),n(15,"add"),o()()(),s(16,bt,12,3,"mat-table",4),F(17,"async"),s(18,Mt,2,0),o()()),r&2){let u;m(16),k(16,(u=N(17,1,c.solicitations))!=null&&u.length?16:18)}},dependencies:[D,X,et,it,R,at,nt,rt,y,tt,mt,Z,ot,Y,J,E,O,w],styles:[".mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:600px}.action-column[_ngcontent-%COMP%]{flex:0 0 125px}.mat-card-actions[_ngcontent-%COMP%]{justify-content:center}td[_ngcontent-%COMP%]{width:630px;padding:1rem}th[_ngcontent-%COMP%]{padding:1rem}.solicitation-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;margin-bottom:1rem}"]});let t=e;return t})();var dt=(()=>{let e=class e{constructor(){this.formBuilder=a(q),this.router=a(g),this.route=a(C),this.service=a(T),this.form=this.formBuilder.nonNullable.group({name:["",[v.required]],description:["",v.required],price:[null,[v.required]]})}onSubmit(){this.form.valid&&this.service.create(this.form.getRawValue()).subscribe(()=>{this.router.navigate(["/solicitations"])})}back(){this.router.navigate(["/solicitations"])}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=S({type:e,selectors:[["app-solicitations-create"]],standalone:!0,features:[x],decls:23,vars:3,consts:[["color","primary"],[1,"create__form__mat__card__content"],[1,"create__form__back__button"],["mat-raised-button","","color","primary","aria-label","Solicitar um produto",1,"action-column-header",3,"click"],[1,"create__form",3,"formGroup","ngSubmit"],["matInput","","placeholder","Nome do Solicitante","id","nomeSolicitante","formControlName","name"],["matInput","","placeholder","Adicione a descri\xE7\xE3o do item","id","descricaoItem","rows","3","type","text","formControlName","description"],["appearance","fill"],["type","text","prefix","R$ ","mask","separator.2","thousandSeparator",".","decimalMarker",",","formControlName","price","matInput","",3,"dropSpecialCharacters"],[1,"create__form__container__submit__button"],["mat-raised-button","","type","submit",1,"create__form__submit__button",3,"disabled"]],template:function(r,c){r&1&&(i(0,"mat-toolbar",0)(1,"span"),n(2,"Fa\xE7a sua solicita\xE7\xE3o"),o()(),i(3,"mat-card")(4,"mat-card-content",1)(5,"div",2)(6,"button",3),_("click",function(){return c.back()}),i(7,"span"),n(8,"Voltar"),o(),i(9,"mat-icon"),n(10,"arrow_left"),o()()(),i(11,"form",4),_("ngSubmit",function(){return c.onSubmit()}),i(12,"mat-form-field"),f(13,"input",5),o(),i(14,"mat-form-field")(15,"textarea",6),n(16,`
        `),o()(),i(17,"mat-form-field",7),n(18," Pre\xE7o do produto "),f(19,"input",8),o(),i(20,"div",9)(21,"button",10),n(22,"Solicitar "),o()()()()()),r&2&&(m(11),d("formGroup",c.form),m(8),d("dropSpecialCharacters",!1),m(2),d("disabled",c.form.invalid))},dependencies:[y,E,R,D,Q,z,$,H,j,B,V,G,K,w,L],styles:[".create__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;background:#fff0f5}.create__form__container__submit__button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.create__form__submit__button[_ngcontent-%COMP%]{padding:1rem 3rem;width:10%}.create__form__mat__card__content[_ngcontent-%COMP%]{background:#fff0f5}.create__form__back__button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;margin-bottom:.5rem}.action-column[_ngcontent-%COMP%]{flex:0 0 125px}"]});let t=e;return t})();var me=[{path:"",component:ct},{path:"new",component:dt}];export{me as default};
